# Общие принципы дизайна

## Resource-oriented подход
- Моделируйте API вокруг сущностей/ресурсов (`/users`, `/orders/{id}`), а не действий.
- Используйте существительные во множественном числе, избегайте глаголов в URL.

## Stateless
- Каждый запрос должен содержать всю контекстную информацию (auth, tenant). Сервер не должен хранить состояние между запросами.

## Idempotency
- Повторное выполнение запроса даёт тот же результат (PUT, PATCH, DELETE должны быть идемпотентны).
- Для POST критичных операций используйте `Idempotency-Key` (Stripe-подобный подход).

## Consistency
- Единообразные форматы (camelCase vs snake_case), единые ошибки и метаданные.
- Один контракт для всех клиентов (минимум "special cases").

## Hypermedia / HATEOAS (опционально)
- Возвращайте ссылки на связанные ресурсы (`_links`). Упрощает навигацию, но повышает сложность.

## Caching
- Используйте ETag/If-None-Match и Cache-Control для GET/HEAD запросов.
- Определите политику для CDN и прокси.

## Rate limiting и quotas
- Документируйте ограничения (`X-RateLimit-Limit`, `X-RateLimit-Remaining`).
- При превышении возвращайте `429 Too Many Requests`.

## Localization и timezones
- Храните даты в UTC (ISO 8601). Как минимум возвращайте timezone offset.
- Поддерживайте `Accept-Language`, если нужно локализованное содержимое.

## Backward compatibility
- Изменения в контракте должны быть совместимыми (добавление полей, новые endpoint). Редкие breaking changes → новая версия.

## Security by design
- Избегайте передачи чувствительных данных в URL (не логируются?).
- Выполняйте входную валидацию (size limits, типы).

