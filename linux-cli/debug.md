# Отладка и диагностика

## Системные логи и сообщения ядра

```bash
dmesg -T | tail                   # последние сообщения ядра с метками времени
journalctl -xe                    # последние ошибки systemd
journalctl -u app.service -f      # логи конкретного юнита в реальном времени
```

## Анализ зависших процессов

```bash
strace -f -p 1234                 # проследить системные вызовы процесса
sudo gdb --pid 1234               # присоединиться отладчиком
sudo perf top                     # профилирование в реальном времени (пакет perf)
```

## Работа с файлами и сокетами

```bash
lsof -p 1234                      # открытые файлы процесса
lsof -i :443                      # кто слушает порт
ss -plant                         # активные TCP-соединения
```

## Диагностика дисков и устройств

```bash
lsblk -f                          # дерево устройств, файловые системы
sudo smartctl -H /dev/sda         # SMART-статус (пакет smartmontools)
sudo fsck -n /dev/sda1            # проверка файловой системы (только чтение)
```

## Интерактивный анализ

```bash
htop                               # ресурсы по процессам
fish --debug-level 1 -c '...'      # запуск с отладочным выводом (пример для fish)
python -m http.server              # быстро поднять сервер для проверки HTTP
```
